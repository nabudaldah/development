<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cloudsmith :: OpenCPN Developer Manual</title>
    <link rel="canonical" href="https://opencpn-manuals.github.io/development/AlternativeWorkflow/InstallConfigure/Cloudsmith.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="navbar-brand">
      <div class="ocpn-logo"> </div>
      <a class="navbar-title"
         href="https://opencpn-manuals.github.io/development"
      >
        OpenCPN Developer Manual
        </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://www.opencpn.org">OpenCPN.org</a>
            <a class="navbar-item"
               href="https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:opencpn_user_manual"
            >
               User Manual
               </a>
            <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
               Github Site
               </a>
            <a class="navbar-item" href="https://opencpn.org/flyspray/">
               Bugtracker
               </a>
            <a class="navbar-item"
                href="https://rasbats.github.io/opencpn-plugins-manual/">
                    Plugin Manual (pre-alpha)
               </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="AlternativeWorkflow" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Shipdriver Managed Workflow for the OpenCPN plugins</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Overview.html">Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Metadata-Flow.html">Metadata Files</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../Plugin-Adaptation.html">Adapting the Plugin</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../usage.html">Local Builds</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Local-Build.html">Build Dependencies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../InstallConfigure.html">CI Services Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="GithubPreps.html">Github OpenCPN/plugins fork</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="Cloudsmith.html">Cloudsmith</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="Builders/IntroBuilders.html">Builders</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Builders/Appveyor.html">Appveyor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Builders/CircleCI.html">CircleCI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Builders/Drone.html">Drone.io</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Builders/Travis.html">Travis</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="BuilderEnv.html">Builder environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="GitHub.html">Final checks and testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Catalog-Github-Integration.html">Creating a catalog PR</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../Versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Useful-Stuff.html">Useful information</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Local-ci-build.html">Local CI builds (experimental)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Shipdriver Managed Workflow for the OpenCPN plugins</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../ocpn-dev-manual/5.3.1/index.html">OpenCPN Developer Manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../ocpn-dev-manual/5.3.1/index.html">5.3.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../opencpn-plugins/0.1/index.html">OpenCPN Plugins</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../opencpn-plugins/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../plugin-installer/0.0.1/Home.html">Plugin Installer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../plugin-installer/0.0.1/Home.html">0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Shipdriver Managed Workflow for the OpenCPN plugins</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../ocpn-dev-manual/5.3.1/intro-AboutThisManual.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Shipdriver Managed Workflow for the OpenCPN plugins</a></li>
    <li><a href="../InstallConfigure.html">CI Services Configuration</a></li>
    <li><a href="Cloudsmith.html">Cloudsmith</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/Rasbats/managed_plugins/edit/main/manual/modules/ROOT/pages/InstallConfigure/Cloudsmith.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Cloudsmith</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://cloudsmith.io/">Cloudsmith Website</a></p>
</div>
<div class="paragraph">
<p>Cloudsmith is the deployment repository which hosts the tarballs and metadata files that form the heart of the managed plugin system.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/1cloudsmith.jpg" alt="1cloudsmith.jpg"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sign_up"><a class="anchor" href="#_sign_up"></a>Sign Up</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is easiest using your GitHub account. Signing up is free and you
start a ``Free Trial''. You will get an email from Cloudsmith after a
few days:</p>
</div>
<div class="paragraph">
<p><code>Just a friendly reminder that your trial subscription on Cloudsmith to the</code>
<code>Package (FREE) plan is due to run out 2 days, 23 hours from now.</code></p>
</div>
<div class="paragraph">
<p>The paid plan is not necessary. The extra features are not required for
creating repositories for your plugin.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_joining_the_cloudsmith_opencpn_organisation"><a class="anchor" href="#_joining_the_cloudsmith_opencpn_organisation"></a>Joining the Cloudsmith OpenCPN organisation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This step is optional. A membership is not required to create
repositories, but makes it possible to create them in the same area as
some other plugins. However, creating the same repositories
without being part of the organization works just fine.</p>
</div>
<div class="paragraph">
<p><strong>To Join</strong> Send an email to Rick Gleason, Jon Gough or Dave Register
requesting an invite. This will then be generated by Cloudsmith. FIXME:
email addresses needed…</p>
</div>
<div class="paragraph">
<p>Good news! You’ve been invited by Rick Gleason (@rick-gleason) to be a
member of the OpenCPN (@opencpn) organization at Cloudsmith.</p>
</div>
<div class="paragraph">
<p>What can members do? They can see other members and visible teams, and
inherit privileges from the org and team membership..</p>
</div>
<div class="paragraph">
<p>You’ll need to login to your account to accept or reject the invite:
<a href="https://cloudsmith.io/user/login/">https://cloudsmith.io/user/login/</a></p>
</div>
<div class="paragraph">
<p>After you login you will automatically find the invite within the
organization invites section of your user settings:
<a href="https://cloudsmith.io/user/settings/orgs/invites/">https://cloudsmith.io/user/settings/orgs/invites/</a></p>
</div>
<div class="paragraph">
<p>Accept/reject the invitation:
<a href="https://cloudsmith.io/orgs/opencpn/people/invites/fCRGknS1o0IXDV4U/">https://cloudsmith.io/orgs/opencpn/people/invites/fCRGknS1o0IX/</a></p>
</div>
<div class="paragraph">
<p>If you accept the invitation then your user account will join the
OpenCPN (@opencpn) organization at Cloudsmith. Please note that because
this invitation was sent to Mike Rossiter (@mike-rossiter) only <strong><em>that
specific account</em></strong> will be able to accept the invitation.</p>
</div>
<div class="paragraph">
<p><strong>This gives member rights which allows setting up repositories on
Cloudsmith for the tarballs and metadata files built by the virtual
machines.</strong></p>
</div>
<div class="paragraph">
<p><strong>Once the invite is accepted you will see the OpenCPN organisation
details.</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/2cloudsmith.jpg" alt="2cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><strong>Many repositories have packages already in place.</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_the_repositories"><a class="anchor" href="#_create_the_repositories"></a>Create the repositories.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned, this works in the same way if using the cloudsmith organization
or not. Eventually, three repositories could be configured. The names
are formally arbitrary, but usually named like</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>Tidefinder-Alpha</em> ur <em>tidefinder-unstable</em>: This is basically a scratch
build repository.</p>
</li>
<li>
<p><em>Tidefinder-Beta</em>: The repository for beta builds.</p>
</li>
<li>
<p><em>Tidefinder-Prod</em> or <em>tidefinder-stable</em>: The repository for stable
builds i. e., builds published to end users.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The beta repository is not required, just using two repositories like
stable/unstable also works fine.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/3cloudsmith.jpg" alt="3cloudsmith.jpg"></span>
To create the repositories for TideFinder click the plus sign at the right
of the screen.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/4cloudsmith.jpg" alt="4cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><strong>Enter the details for the repository starting with the alpha
(unstable) repo.</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/5cloudsmith.jpg" alt="5cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><strong>Repeat for the beta and prod (stable) repositories.</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/6cloudsmith.jpg" alt="6cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><strong>Three repos have been created.</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/7cloudsmith.jpg" alt="7cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><strong>While we are working with Cloudsmith it is useful to adjust the
lifecyle setting for the repositories. Use Admin Access to each repo.</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/8cloudsmith.jpg" alt="8cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><strong>The only setting needed is Retention Rules.</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/9cloudsmith.jpg" alt="9cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><strong>Disable the `Limit By Days' and press the Update button.</strong></p>
</div>
<div class="paragraph">
<p><strong>Summary of settings
*Plugin-alpha, Limit by days = 28, Limit by count=100, Limit by size = 0</strong>
<strong>Plugin-beta, Limit by days = 0, Limit by count=100, Limit by size = 0</strong>
<strong>Plugin-prod, Limit by days = 0, Limit by count=526, Limit by size = 0</strong>
<strong>Using a "0" means "disabled"</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/10cloudsmith.jpg" alt="10cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><strong>Repeat for the beta and prod (production) repositories.</strong></p>
</div>
<div class="paragraph">
<p><strong>While using Cloudsmith make a note of the API Key. This can be
copy/pasted to a file on your PC for use later.</strong>
<span class="image"><img src="../_images/11cloudsmith.jpg" alt="11cloudsmith.jpg"></span></p>
</div>
<div class="paragraph">
<p><a href="../InstallConfigure.html" class="page">&#8592; Installation and configuration</a></p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
