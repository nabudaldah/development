<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cloudsmith Deployment Configuration :: OpenCPN Developer Manual</title>
    <link rel="canonical" href="https://opencpn-manuals.github.io/development/ocpn-dev-manual/5.3.1/pm-overview-prereq-other.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="navbar-brand">
      <div class="ocpn-logo"> </div>
      <a class="navbar-title"
         href="https://opencpn-manuals.github.io/development"
      >
        OpenCPN Developer Manual
        </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://www.opencpn.org">OpenCPN.org</a>
            <a class="navbar-item"
               href="https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:opencpn_user_manual"
            >
               User Manual
               </a>
            <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
               Github Site
               </a>
            <a class="navbar-item" href="https://opencpn.org/flyspray/">
               Bugtracker
               </a>
            <a class="navbar-item"
                href="https://rasbats.github.io/opencpn-plugins-manual/">
                    Plugin Manual (pre-alpha)
               </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ocpn-dev-manual" data-version="5.3.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">OpenCPN Developer Manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-AboutThisManual.html">About this Manual</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Background.html">Background</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Community.html">Community</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Terminology.html">Terminology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Opencpn development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Compiling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-cmake.html">CMake</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-linux.html">Linux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-linux.html#_flatpak">Flatpak</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-windows.html">Windows</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-mac-osx.html">MacOS</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-code-formatting.html">Code Formatting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-user-interface-styling.html">User Interface Styling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin Development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin-devel-overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-plugin-dependencies.html">Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-plugin-api-versions.html">Plugin API and ABI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-deployment.html">Deployment overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-workflow.html">Workflow overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin-compat.html">Compatibility and tweaks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dm-i18n.html">Translations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Plugin-Pi-Adaptation.html">Plugin Installer Code Adaptation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pm-tp-template.html">Testplugin Template</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-overview-prereq-workflow.html">Workflow Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-overview-prereq-services.html">Prerequisite Services</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pm-overview-prereq-other.html">Cloudsmith Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="pm-tp-system-structure.html">System Structure</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-dev-setup.html">Developer Setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-config-template.html">Configure Template</a>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text">Build Locally</span>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-adapt-plugin.html">Adapt Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-deploy.html">Deploy Details</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pi_installer_dev_procedure.html">PI Manager Dev Procedure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-update-library.html">Update the Library</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-language-nuance.html">Language Nuances</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-odapi-messaging.html">Odapi Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-odapi.html">Odapi for oDraw</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-ocpn_draw_odapi.html">Ocpn_Draw Odapi</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../AlternativeWorkflow/index.html">Shipdriver Template</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../plugin-installer/0.0.1/Home.html">Plugin Manager Installer Documentation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://opencpn-manuals.github.io/plugins/opencpn-plugins/0.1/index.html">Plugin  Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-legacy-plugins.html">Legacy Plugin Packaging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-manual-maint.html">Maintenance of this Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-i18n.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="res-prebuilt-build-files.html">Prebuilt Build Files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="res-online-tools.html">Online Nmea Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ECDIS_testdata.html">ECDIS testdata</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="prerequisites.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compile_mac_osx.html">Compiling on macOS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rpi2.html">Compile on Raspberry PI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building-on-armhf-linux-armbian-orange-pi.html">armhf linux - Armbian - Orange Pi</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenCPN Developer Manual</span>
    <span class="version">5.3.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">OpenCPN Developer Manual</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">5.3.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../opencpn-plugins/0.1/index.html">OpenCPN Plugins</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../opencpn-plugins/0.1/index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../plugin-installer/0.0.1/Home.html">Plugin Installer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../plugin-installer/0.0.1/Home.html">0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../AlternativeWorkflow/index.html">Shipdriver Managed Workflow for the OpenCPN plugins</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../AlternativeWorkflow/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="intro-AboutThisManual.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">OpenCPN Developer Manual</a></li>
    <li>Developer Manual</li>
    <li>Plugin Development</li>
    <li><a href="pm-tp-template.html">Testplugin Template</a></li>
    <li><a href="pm-overview-prereq-other.html">Cloudsmith Setup</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/opencpn-manuals/development/edit/build/modules/ROOT/pages/pm-overview-prereq-other.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Cloudsmith Deployment Configuration</h1>
<div class="sect1">
<h2 id="_personal_organization_public_opensource_repository"><a class="anchor" href="#_personal_organization_public_opensource_repository"></a>Personal Organization - Public Opensource Repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Create your own CLOUDSMITH Deployment Repository. The Testplugin Template uses cloudsmith.io.
This is not a requirement in any way, but this is how to get the template setup working.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup_a_cloudsmith_io_free_opensource_account"><a class="anchor" href="#_setup_a_cloudsmith_io_free_opensource_account"></a>Setup a Cloudsmith.IO Free Opensource Account:</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Go to Cloudsmith.io <a href="https://cloudsmith.io/user/signup/" class="bare">https://cloudsmith.io/user/signup/</a> to sign up for a free opensource account using your github account.</p>
</div>
<div class="paragraph">
<p>After the 7 day trial, you may be asked for credit card, as long as you stay public opensource with the base services, it should not cost you. Don’t get alarmed when it looks like they want money. Open-source repos are free.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create [user name] For Example: "firstname-lastname"</p>
</li>
<li>
<p>Create a [new repository] by clicking the "+" and then use one of the names above.</p>
</li>
<li>
<p>Generally don&#8217;t touch 'Slug'. But with troubles, make sure you fill in the 'Slug' with exactly the same text as you used in 'Name' or you repository may not work as you expect and debugging is difficult.</p>
</li>
<li>
<p>Make sure you select "Opensource" (not Public) and complete the rest.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_open_source_repositories"><a class="anchor" href="#_create_open_source_repositories"></a>Create Open-source repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In your Cloudsmith Account configure your personal repository with the required pre-configured repository names necessary for the template being used (Shipdriver or Testplugin).</p>
</div>
<div class="paragraph">
<p>Use the "+ in the upper right to configure a new repository.
Enter the following for a Public OpenSource Repository:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Name:   Enter the name of the repository
Slug:   Leave alone. Automatically completed.
Description:   Leave Blank at first
Repository Type:   Open-Source
Open-Source License:    Select correct License (Opencpn is generally GPL v3)
Open-Source Project URL:    Enter (Generally use opencpn.org)
Agree to the 3 items.
Click "Create"</pre>
</div>
</div>
<div class="paragraph">
<p>When completed the new repository should have a "heart" icon which
when hovered over shows "Opensource".</p>
</div>
<div class="paragraph">
<p>For each new repository select:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Under "Set me up" dropdown on the right side, select "Raw"</p>
</li>
<li>
<p>Test each repository to make sure you can upload and download a file using the web UI.</p>
</li>
<li>
<p>Then at the bottom "Upload Packages" button.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/cloudsmith-create-repository.png" alt="Cloudsmith Configuration"></span></p>
</div>
<div class="sect2">
<h3 id="_shipdriver_template_repository_name_configuration"><a class="anchor" href="#_shipdriver_template_repository_name_configuration"></a>Shipdriver Template Repository Name Configuration</h3>
<div class="paragraph">
<p>Unknown</p>
</div>
</div>
<div class="sect2">
<h3 id="_testplugin_template_repository_name_configuration"><a class="anchor" href="#_testplugin_template_repository_name_configuration"></a>Testplugin Template Repository Name Configuration</h3>
<div class="paragraph">
<p>Create 3 repositories named following this guiide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>testplugin-alpha  or [pluginname]-prod</p>
</li>
<li>
<p>testplugin-beta   or [pluginname]-beta</p>
</li>
<li>
<p>testplugin-prod   or [pluginname]-alpha</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Which will store compressed binary files and metadata xml catalog built by circleci.</p>
</div>
<div class="paragraph">
<p><a href="pm-tp-deploy.html" class="page">Deploy Details</a> more detail on use.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opencpn_organization_repositories"><a class="anchor" href="#_opencpn_organization_repositories"></a>OpenCPN Organization Repositories</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Public Open-Source</strong></p>
</div>
<div class="paragraph">
<p><a href="https://cloudsmith.io/orgs/opencpn/">https://cloudsmith.io/orgs/opencpn/</a>
(Restricted, requires login to be accessed)</p>
</div>
<div class="sect2">
<h3 id="_opencpn_plugin_developers"><a class="anchor" href="#_opencpn_plugin_developers"></a>OpenCPN Plugin Developers</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Cloudsmith OpenCPN Organization Plugin Repositories are one of the deployment resources used for Plugins.</p>
</li>
<li>
<p>OpenCPN has a “Plugins Team” that accesses these repositories.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_opencpn_organization_repository_configuration"><a class="anchor" href="#_opencpn_organization_repository_configuration"></a>OpenCPN Organization Repository Configuration</h4>
<div class="ulist">
<ul>
<li>
<p>Follow the Testplugin naming and standards when using the OpenCPN Organization Repositories</p>
</li>
<li>
<p>Configure new repositories as detailed above for Personal Organizations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_to_join"><a class="anchor" href="#_to_join"></a>To Join</h3>
<div class="paragraph">
<p>To Join the OpenCPN Plugin Team to create and deploy to repositories in the OpenCPN Organization repositories.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First make your Account Settings &gt; Profile &gt; Visibility to "Public".</p>
</li>
<li>
<p>Send a PM from OpenCPN Cruiser&#8217;s Forum to "rgleason" requesting to join the OpenCPN Plugin Team</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cloudsmith_retention_policy_settings"><a class="anchor" href="#_cloudsmith_retention_policy_settings"></a>Cloudsmith Retention Policy Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Example:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A repository with 4gb and about 5000 packages used for
development.</p>
</li>
<li>
<p>Retention policy set some time ago but these have not
disappeared.</p>
</li>
<li>
<p>Deleting them 25 at a time is impractical.</p>
</li>
<li>
<p>Response from Cloudsmith support: This is normally a misunderstanding of how the retention functionality works.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Retention Policy only kicks in when a repository is uploaded, even for time-based retention. Also, you&#8217;ve currently got "Group Packages By Name" enabled, which means it is is counting per package name, rather than the packages in total.</p>
</li>
<li>
<p>The 33 packages count you have means you&#8217;d have to have 34 versions of a named package before it deletes them.</p>
</li>
<li>
<p>If you&#8217;d like to keep 30-days worth of absolute packages, just untick the box and we&#8217;ll trim it down to 30 days after the next upload.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>More Information: <a href="https://help.cloudsmith.io/docs/retention-lifecycle">Cloudsmith Retention:</a></p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
