<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OD Plugin Messaging :: OpenCPN Developer Manual</title>
    <link rel="canonical" href="https://opencpn-manuals.github.io/development/opencpn-plugins/0.1/misc/draw-messaging.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="navbar-brand">
      <div class="ocpn-logo"> </div>
      <a class="navbar-title"
         href="https://opencpn-manuals.github.io/development"
      >
        OpenCPN Developer Manual
        </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://www.opencpn.org">OpenCPN.org</a>
            <a class="navbar-item"
               href="https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:opencpn_user_manual"
            >
               User Manual
               </a>
            <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
               Github Site
               </a>
            <a class="navbar-item" href="https://opencpn.org/flyspray/">
               Bugtracker
               </a>
            <a class="navbar-item"
                href="https://rasbats.github.io/opencpn-plugins-manual/">
                    Plugin Manual (pre-alpha)
               </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="opencpn-plugins" data-version="0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">OpenCPN Plugins</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home Page</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">General</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin-install.html">Plugin Installation</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="draw-messaging.html">Draw Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Supplementary hardware</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ais-devices.html">AIS Devices</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rpi-setups.html">RPI Setups</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Supplementary software</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nmea-software.html">NMEA Tools</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="celestial-nav.html">Celestial Navigation Tool</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Main Plugins</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Included with OpenCPN</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../dashboard/dashboard.html">Dashboard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../wmm/wmm.html">World Magnetic</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../grib_weather/grib_weather.html">Grib Weather</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../chart_downloader_tab/chart_downloader_tab.html">Chart Downloader Tab</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">AIS / Radar</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#aisradar:ROOT:index.adoc">AISradar Display</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#radar:ROOT:index.adoc">Radar Display</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#rtlsdr::index.adoc">AIS RTL-SDR</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#ais-vd::index.adoc">AIS-Voyage Data</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Charts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#s63_vector_charts:ROOT:index.adoc">S63 Vector Charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#oesenc::index.adoc">oeSENC Charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#photolayer::index.adoc">PhotoLayer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#vfkaps::index.adoc">VfKaps VentureFarther</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#rotationctrl::index.adoc">RotationCtrl</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#chartscale::index.adoc">Chartscale</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#objsearch::index.adoc">ObjSearch</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#projections::index.adoc">Projections</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Logs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#dashboard_tactics::index.adoc">Dashboard Tactics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#logbook::index.adoc">Logbook</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#findit::index.adoc">Findit</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#vdr::index.adoc">Voyage Data Recorder VDR</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#nmea_converter:ROOT:index.adoc">NMEA Converter</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Navigation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#squiddio::index.adoc">sQuiddio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#celestial_navigation::index.adoc">Celestial Navigation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#route_great_circle::index.adoc">Route Great Circle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#dead_reckoning::index.adoc">Dead Reckoning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#otcurrent::index.adoc">oTidalCurrent</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../sat2chart/sat2chart.html">Sat2Chart Software</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../wmm/wmm.html">World Magnetic (Included)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Safety</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#ocpn_draw:ROOT:index.adoc">OcpnDraw</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#watchdog::index.adoc">Watchdog</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sar::index.adoc">SAR</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Sailing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#tactics::index.adoc">Tactics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#dashboard_tactics::index.adoc">Dashboard Tactics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#plots::index.adoc">Plots</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#polar::index.adoc">Polar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#windvane::index.adoc">Windvane</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Weather</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#weatherfax::index.adoc">WeatherFax</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../grib_weather/grib_weather.html">Grib Weather (Included)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#climatology::index.adoc">Climatology</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#weather_routing::index.adoc">Weather Routing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Utility</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#statusbar::index.adoc">Statusbar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#calculator:ROOT:index.adoc">Calculator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#launcher:ROOT:index.adoc">Launcher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#debugger:ROOT:index.adoc">Debugger</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#pypilot::index.adoc">Pypilot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#shipdriver::index.adoc">Shipdriver</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#twocan::index.adoc">TwoCan</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#odometer:ROOT:index.adoc">Odometer</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Beta Plugins</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#engine-dash::index.adoc">Engine Dashboard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#race-start:ROOT:index.adoc">Race Start</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#tidefinder::index.adoc">TideFinder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#javascript::index.adoc">JavaScript</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#deviation::index.adoc">Deviation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#survey::index.adoc">Survey</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#autopilot-rm::index.adoc">Autopilot Raymarine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#autotrackraymarine::index.adoc">AutoTrackRaymarine Evo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#autopilot_route::index.adoc">Autopilot Route</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#admiralty::index.adoc">Admiralty Tides Tables</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#ncdf::index.adoc">NetCDF Tidal Currents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#otidalroute::index.adoc">oTidalRoute</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#sailawaynmea::index.adoc">SailawayNMEA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#uktides::index.adoc">UKTides</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#otidalplan::index.adoc">oTidalPlan uses Harmonics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#earthexplorer::index.adoc">Earth Explorer</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">All plugins A-Z</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">A - E</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#admiralty::index.adoc">Admiralty Tides Tables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#ais-vd::index.adoc">AIS-Voyage Data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#aisradar:ROOT:index.adoc">AISradar Display</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#autopilot-rm::index.adoc">Autopilot Raymarine</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#autopilot_route::index.adoc">Autopilot Route</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#autotrackraymarine::index.adoc">AutoTrackRaymarine Evo</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#calculator:ROOT:index.adoc">Calculator</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#celestial_navigation::index.adoc">Celestial Navigation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../chart_downloader_tab/chart_downloader_tab.html">Chart Downloader Tab</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#chartscale::index.adoc">Chartscale</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#climatology::index.adoc">Climatology</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../dashboard/dashboard.html">Dashboard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#dashboard_tactics::index.adoc">Dashboard Tactics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#dead_reckoning::index.adoc">Dead Reckoning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#debugger:ROOT:index.adoc">Debugger</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#deviation::index.adoc">Deviation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#earthexplorer::index.adoc">Earth Explorer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#engine-dash::index.adoc">Engine Dashboard</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">F - O</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#findit::index.adoc">Findit</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../grib_weather/grib_weather.html">Grib Weather (Included)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#javascript::index.adoc">JavaScript</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#launcher:ROOT:index.adoc">Launcher</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#logbook::index.adoc">Logbook</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#ncdf::index.adoc">NetCDF Tidal Currents</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#nmea_converter:ROOT:index.adoc">NMEA Converter</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#objsearch::index.adoc">ObjSearch</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#ocpn_draw:ROOT:index.adoc">OcpnDraw</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#odometer:ROOT:index.adoc">Odometer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#oesenc::index.adoc">oeSENC Charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#otcurrent::index.adoc">oTidalCurrent</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#otidalplan::index.adoc">oTidalPlan uses Harmonics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#otidalroute::index.adoc">oTidalRoute</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">P - R</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#photolayer::index.adoc">PhotoLayer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#plots::index.adoc">Plots</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#polar::index.adoc">Polar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#projections::index.adoc">Projections</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#pypilot::index.adoc">Pypilot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#race-start:ROOT:index.adoc">Race Start</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#radar:ROOT:index.adoc">Radar Display</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#rotationctrl::index.adoc">RotationCtrl</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#route_great_circle::index.adoc">Route Great Circle</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#rtlsdr::index.adoc">AIS RTL-SDR</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">S - T</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#s63_vector_charts:ROOT:index.adoc">S63 Vector Charts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sailawaynmea::index.adoc">SailawayNMEA</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sar::index.adoc">SAR</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../sat2chart/sat2chart.html">Sat2Chart Software</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#shipdriver::index.adoc">Shipdriver</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#squiddio::index.adoc">sQuiddio</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#statusbar::index.adoc">Statusbar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#survey::index.adoc">Survey</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#tactics::index.adoc">Tactics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#tidefinder::index.adoc">TideFinder</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#twocan::index.adoc">TwoCan</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">U - Z</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#uktides::index.adoc">UKTides</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#vdr::index.adoc">Voyage Data Recorder VDR</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#vfkaps::index.adoc">VfKaps VentureFarther</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#watchdog::index.adoc">Watchdog</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#weatherfax::index.adoc">WeatherFax</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#weather_routing::index.adoc">Weather Routing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#windvane::index.adoc">Windvane</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../wmm/wmm.html">World Magnetic (Included)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Authoring the manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/pm-plugin-documentation.html">Plugin Documentation Guidelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/intro.html">Manual Maintenance Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/tools.html">Viewing and Editing Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/localbuild.html">Local Build</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/FAQ.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../authoring/useful.html">Useful stuff</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../advanced/advanced.html">Understanding the Github Plugins Manual repository</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenCPN Plugins</span>
    <span class="version">0.1</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../ocpn-dev-manual/5.3.1/index.html">OpenCPN Developer Manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ocpn-dev-manual/5.3.1/index.html">5.3.1</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">OpenCPN Plugins</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../plugin-installer/0.0.1/Home.html">Plugin Installer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../plugin-installer/0.0.1/Home.html">0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../AlternativeWorkflow/index.html">Shipdriver Managed Workflow for the OpenCPN plugins</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../AlternativeWorkflow/index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../ocpn-dev-manual/5.3.1/intro-AboutThisManual.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">OpenCPN Plugins</a></li>
    <li>General</li>
    <li><a href="draw-messaging.html">Draw Messaging</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/opencpn-manuals/plugins/edit/main/manual/plugins/modules/misc/pages/draw-messaging.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">OD Plugin Messaging</h1>
<div class="sect1">
<h2 id="_messaging_between_plugins"><a class="anchor" href="#_messaging_between_plugins"></a>Messaging between Plugins</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ocpn_draw (OD) - OD Entities such as Point, Line, EBL, Guard Zones, Boundaries and Layers with ODraw Messaging used to enhance other plugins.</p>
</li>
<li>
<p>Watchdog (WD) - Uses OD entities and messaging to create a large number of useful alarms.</p>
</li>
<li>
<p>Weather Routing (WR) - Uses OD Boundaries to create Avoidance zones.</p>
</li>
<li>
<p>Squiddio - Optionally uses OD Layers to avoid use of Navigation WP and POI.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_user_perspective"><a class="anchor" href="#_user_perspective"></a>User Perspective</h3>
<div class="paragraph">
<p>OD, WD, WR and Squiddio are separate plugins. In OD you can draw geo-referenced objects (lines, points, straight lined areas and circles). WD knows when and how to sound alarms. WR knows how to avoid boundaries. Squiddio has an option to use OD Layers which leaves the navigation layer cleaner.</p>
</div>
<div class="paragraph">
<p>In OD, a graphical indication (crosshatching or shading) may be added to areas, to indicate whether these are intended to avoid (crosshatched inside) or to stay within (crosshatched outside), or whatever other meaning you want to give to those graphical indications.</p>
</div>
<div class="paragraph">
<p>In WD you can select whether (certain types of) alarms should react only for areas that are flagged (in OD) as to avoid or to stay within, or for all areas. On top of that, in WD you can indicate whether this should be done only for areas labeled in OD as active, or inactive, or both.</p>
</div>
<div class="paragraph">
<p>The WD Boundary Alarm has 4 different types:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Alarm when approaching an area from outside (based on distance);</p>
</li>
<li>
<p>Alarm when approaching an area from outside (based on time);</p>
</li>
<li>
<p>Alarm to indicate whether your boat is inside or outside an area (Inclusion Alarm, another type of anchor alarm);</p>
</li>
<li>
<p>Alarm to indicate whether AIS objects are present in an area.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For the first two alarms the WD uses the same terms for the boundary that OD does as well as allowing a check for the state of the boundary. The third alarm only looks at a specific boundary which is identified by the boundaries GUID. The fourth alarm specifies a boundary to check if an AIS target is inside it.</p>
</div>
<div class="paragraph">
<p>Beside the 4 types of Boundary Alarms mentioned above, WD has the following alarm functionality:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Alarm when approaching coastlines (Landfall Alarm; 2 types: time and distance)</p>
</li>
<li>
<p>Alarm when NMEA-data stream stops (NMEA Alarm)</p>
</li>
<li>
<p>Deadman Alarm</p>
</li>
<li>
<p>Alarm when distance to reference position exceeds a set value (Anchor Alarm)</p>
</li>
<li>
<p>Alarm when course over ground deviates more than set (Course Alarm; 3 types: only port deviation, only starboard deviation or a general deviation);</p>
</li>
<li>
<p>Alarms when speed deviates more then set (Speed Alarm; two types: overspeed for more than set maximum, and underspeed for less than set minimum).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In total there are 14 different types of alarms.</p>
</div>
<div class="paragraph">
<p><strong>Technical aspects</strong></p>
</div>
<div class="paragraph">
<p>WD and OD are independent plugins. OD knows about drawing geo-referenced
objects, WD knows how to sound alarms. Now the two can work together by
passing and receiving messages, in this case JSON messages (basically a
text string of elements and values).</p>
</div>
<div class="paragraph">
<p>For the alarms, when WD needs boundary information, WD asks OD, via a
message, whether a Lat/Lon is inside a boundary. WD can add further
requirements asking for boundaries in a particular state and a particular
type. Both the state and type are the same as what OD use i.e.,
Active/Inactive and Exclusion/Inclusion/Neither, or the inclusive “Any”
(meaning any type and/or any state, not being as selective).</p>
</div>
<div class="paragraph">
<p>In OD the boundaries checked are both an OD Boundary and an OD Boundary
Point with range rings showing. Boundaries and Boundary Point Range Ring
are both considered boundaries. The type of boundary applies to both, but
the state (active/inactive) currently only applies to Boundaries, not
Boundary Points. This is because there is currently no state for a Boundary
Point. This may change in future updates to the plugins for consistency.</p>
</div>
<div class="paragraph">
<p>When OD completes its check of Lat/Lon inside boundaries it replies with a
single message containing the first boundary that the Lat/Lon is inside AND
which matches the type and state requested. The response message contains
the Name, Description, GUID, Type and State of the boundary found.</p>
</div>
<div class="paragraph">
<p>WD uses the returned message to decide whether to sound the alarm and uses
some of the information in the messages that are then displayed to the user,
i.e. a change in text in the watchdog window and a message box, if requested.</p>
</div>
<div class="paragraph">
<p>OD messages can be used by any plugin and OCPN itself to obtain information.
For the OD messaging there is a “structure” for the content of the message,
specifying the source requester, the type of message (Request/Response), the
message i.e. FindPointInAnyBoundary, the message id (may contain an
identifier for the source requester) and then the message contents, i.e.
Lat, Lon, Type, etc.</p>
</div>
<div class="paragraph">
<p>So a request looks like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Source: “WATCHDOG_PI”
Type: “Request”
Msg: “FindPointInAnyBoundary”
MsgId: “distance”
lat: 54.0001
lon: -30.1001
BoundaryType: “Exclusion”
BoundaryState: “Active”</pre>
</div>
</div>
<div class="paragraph">
<p>This message is then given a “destination”, in this case “OCPN_DRAW_PI”,
when the call to the OCPN messaging process is made.</p>
</div>
<div class="paragraph">
<p>The response will look like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Source: “OCPN_DRAW_PI”
Type: “Response”
Msg: “FindPointInAnyBoundary”
MsgId: “distance”
GUID: “62ec7520-b58f-4087-b077-ae1c581dfec1”
lat: 54.0001
lon: -30.1001
Name: “Rocks”
Description: “Good fishing”
Found: false
BoundaryObjectType: “Boundary”
BoundaryType: “Exclusion”</pre>
</div>
</div>
<div class="paragraph">
<p>Using this construct there are validation checks to make sure messages are
valid to process. If they are not valid there will be error messages entered
into the opencpn.log file with relevant information.</p>
</div>
<div class="paragraph">
<p>OD is not concerned where the message came from or why, it will just respond
to message requests with what is found from inspection of OD objects. WD just
wants to know if it should sound an alarm or not, so it sends message
requests to OD to determine certain conditions. WR just wants to know if the
current Lat/Lon is valid for further processing or not, so it sends message
requests to OD to determine certain conditions. AIS just provides
information on each target it is dealing with.</p>
</div>
<div class="paragraph">
<p>Now the check frequency in the WD alarm screen determines how often to check
for a Lat/Lon being in a boundary. One other item which should be mentioned,
is that for each boundary check based on time there are up to 11 Lat/Lon
messages sent to OD, for each distance check there are up to 163 Lat/Lon
messages to OD. Therefore the amount of this message traffic is something
to watch. Please note that a JSON message does not have a “structure” per
se, the message consists of element/value pairs written as delimited
strings. The elements can occur in any order. So “structure” in the sense
used in this document really refers to required elements.</p>
</div>
<div class="paragraph">
<p>WR Weather Routing simply uses OD boundaries for avoidance, and it uses the same messaging as above.
Squiddio simply has an option to use OD Layers instead of the OpenCPN Navigation Layer for WP and Marks.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
